<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>

<style>
    nav {
        display: block;
    }

    .mpReset, .mpReset * {
        margin: 0;
        padding: 0;
        list-style: none;
        border: 0;
        background: 0 0;
        font-style: normal
    }

    #gnb {
        position: absolute;
        left: 0;
        /*bottom: 5px;*/
        width: 100%;
        /*background: url(img/gnb.png) no-repeat 100% 0*/
        background: #456bc1;
    }

    #gnb a span {
        cursor: pointer
    }

    #gnb div.ul1 {
        padding: 0 5px 0 0
    }

    /*목록1*/
    #gnb ul.ul1 {
        height: 35px;
        padding: 0 0 0 15px;
        /*background: url(img/gnb.png) no-repeat*/
    }

    /*목록1 리스트아이템 활성화 위치*/
    #gnb .li1 {
        display: inline;
        float: left;
        position: relative;
        padding: 0 3px 0 0;
        /*background: url(img/li1.gif) no-repeat 100% 50%*/

    }

    #gnb .a1 {
        float: left;
        height: 26px;
        overflow: hidden;
        color: #f3f3f3;
        padding: 9px 10px 0;
        text-decoration: none
    }

    #gnb .a1:focus, #gnb .a1:hover, #gnb .on1 .a1 {
        background: #3e60a6;
        color: #f7f762
    }

    #gnb .a1 span {
        display: inline-block;
        letter-spacing: 1px;
        font: bold 13px 'Apple SD Gothic Neo', 'Malgun Gothic', '맑은 고딕', arial, sans-serif
    }

    /*두번째 ul2 목록 css 시작*/

    #gnb div.ul2 {
        display: none;
        position: absolute;
        left: 0;
        top: 100%;
        border: 1px solid #456bc1;
        border-top: 0;
        background: #fff
    }

    /*li1 hover시 div.ul2 block처리 : 목록박스를 보여줌  */
    #gnb .li1:hover div.ul2, #gnb .li1_on div.ul2 {
        display: block
    }

    #gnb .ul2 .li2 {
        border-bottom: 1px dotted #ccc
    }

    #gnb .ul2 .li2:last-child {
        border: 0
    }

    #gnb .ul2 .a2, #gnb .ul2 .on2 .a2 {
        display: block;
        color: #333;
        text-decoration: none;
        padding: 0 5px 0 7px
    }

    #gnb .ul2 .a2:focus, #gnb .ul2 .a2:hover, #gnb .ul2 .on2 .a2 {
        color: #456bc1;
        background: #eff4fc
    }

    #gnb .ul2 .a2 span {
        display: block;
        padding: 9px 3px 6px;
        font: 13px 'Apple SD Gothic Neo', 'Malgun Gothic', '맑은 고딕', arial, sans-serif;
        line-height: 11px;
        white-space: nowrap
    }

    #gnb .menu_ext_mid .ul2 {
        display: block;
        visibility: hidden
    }

    #gnb .li1:hover .ul2, #gnb .li1_on .ul2 {
        visibility: visible
    }

    #gnb .menu_ext_mid div.ul2 {
        border: 2px solid #456bc1;
        border-top: 0;
        padding: 7px 0;
        box-shadow: inset 0 1px 2px #88acff
    }

    #gnb .menu_ext_mid .li2 {
        float: left
    }

    #gnb .menu_ext_mid .a2, #gnb .menu_ext_mid .a2 span {
        display: inline;
        margin: 0;
        padding: 0;
        color: #456bc1;
        font-size: 13px;
        font-weight: 700;
        text-decoration: none;
        letter-spacing: 1px
    }

    #gnb .menu_ext_mid .a2 {
        margin: 0 0 0 13px;
        background: 0 0 !important
    }

    #gnb .menu_ext_mid .on2 .a2, #gnb .menu_ext_mid a.a2:focus, #gnb .menu_ext_mid a.a2:hover {
        padding: 0;
        background: 0 0;
        text-decoration: underline
    }

    #gnb .menu_ext_mid .li2 {
        float: left;
        border: 0
    }

    /* 목표 : ul2 의 li2를 hover 했을대 우측에 박스로 나타나야된다.
     * 3번째 ul css : */
    /******************************************************************************/

    /* 요소를 자기 기준으로 배치 : ul3, li3를 위치에 맞게 배치하기위해 */
    #gnb .ul2 .li2 {
        position: relative;
    }

    #gnb .a3 {
        float: left;
        height: 26px;
        overflow: hidden;
        color: #f3f3f3;
        padding: 9px 10px 0;
        text-decoration: none
    }

/*
    #gnb .a3:focus, #gnb .a3:hover, #gnb .on3 .a3 {
        background: #3e60a6;
        color: #f7f762
    }
*/

    #gnb .a3 span {
        display: inline-block;
        letter-spacing: 1px;
        font: bold 13px 'Apple SD Gothic Neo', 'Malgun Gothic', '맑은 고딕', arial, sans-serif
    }


    #gnb div.ul3 {
        display: none; /*li2 hover시 조회되도록*/
        position: absolute; /*부모요소를 기준으로 배치*/
        left: 100%;
        top: -4.5%;
        border: 1px solid #456bc1;
        background: #fff
    }


    /*li2 hover시 div.ul3 block처리 : 목록박스를 보여줌  */
    #gnb .li2:hover div.ul3, #gnb .li2_on div.ul3 {
        display: block
    }


    div.ul3 .ul3 .li3 {
        border-bottom: 1px dotted #ccc;
        padding-bottom: 32%; /* 여유 공간 추가 */
    }

    div.ul3 .ul3 .li3:last-child {
        border: 0
    }

    #gnb .ul3 .a3, .ul3 .on3 .a3 {
        display: block;
        color: #333;
        text-decoration: none;
        padding: 0 5px 0 7px
    }

    #gnb .ul3 .a3:focus, .ul3 .a3:hover, .ul3 .on3 .a3 {
        color: #456bc1;
        background: #eff4fc
    }

    #gnb .ul3 .a3 span {
        display: block;
        padding: 9px 3px 6px;
        font: 13px 'Apple SD Gothic Neo', 'Malgun Gothic', '맑은 고딕', arial, sans-serif;
        line-height: 11px;
        white-space: nowrap
    }

    #gnb .menu_ext_mid .ul3 {
        display: block;
        visibility: hidden
    }

    #gnb .li2:hover .ul3, .li2_on .ul3 {
        visibility: visible
    }

    #gnb .menu_ext_mid div.ul3 {
        border: 2px solid #456bc1;
        border-top: 0;
        padding: 7px 0;
        box-shadow: inset 0 1px 2px #88acff
    }

    #gnb .menu_ext_mid .li3 {
        float: left
    }

    #gnb .menu_ext_mid .a3, .menu_ext_mid .a3 span {
        display: inline;
        margin: 0;
        padding: 0;
        color: #456bc1;
        font-size: 13px;
        font-weight: 700;
        text-decoration: none;
        letter-spacing: 1px
    }

    #gnb .menu_ext_mid .a3 {
        margin: 0 0 0 13px;
        background: 0 0 !important
    }

    #gnb .menu_ext_mid .on3 .a3, .menu_ext_mid a.a3:focus, .menu_ext_mid a.a3:hover {
        padding: 0;
        background: 0 0;
        text-decoration: underline
    }

    #gnb .menu_ext_mid .li3 {
        float: left;
        border: 0
    }




    /*******************************************************************************/


    #gnb .menu_ext_mid /*div.ul3*/
    {
        padding: 0 13px;
        border-right: 1px dashed #a2b5e0
    }

    #gnb .menu_ext_mid .li2:last-child /*div.ul3*/
    {
        border: 0
    }

    #gnb .menu_ext_mid /*.li3*/
    {
        display: block;
        padding: 7px 0 0
    }

    #gnb .menu_ext_mid /*.li3 .a3*/
    {
        white-space: nowrap;
        color: #444;
        text-decoration: none
    }

    #gnb .menu_ext_mid .on3 /*.a3 */
    {
        color: #456bc1
    }

    #gnb .menu_ext_mid .on3 . /*a3:before*/
    {
        content: "> "
    }

    /*
    #gnb .menu_ext_mid .li3 .a3:focus, #gnb .menu_ext_mid .li3 .a3:hover {
        color: #456bc1;
        text-decoration: underline;
        background: 0 0
    }



    #gnb .menu_ext_mid .li3 .a3 span {
        font: 13px 'Apple SD Gothic Neo', 'Malgun Gothic', '맑은 고딕', arial, sans-serif
    }

    */

    #gnb .li_bookmark {
        float: right;
        background: 0 0
    }

    #gnb .li_bookmark div.ul2 {
        left: auto;
        right: 0
    }

    #gnb .li_bookmark .a2 {
        padding-right: 5px
    }

    #gnb .li_bookmark2 {
        float: right
    }
</style>
<script>
    $(document).ready(function () {

        var $gnb = $("#gnb");
        $gnb.find("li:has(ul)").addClass("sub").children("a").addClass("sub");
        var is_mobile = function () {
            return "ontouchstart" in window
        };
        $gnb.find(".li1").on("mouseenter", function () {
            if (!is_mobile())
                $(this).addClass("li1_on")
        }).on("mouseleave", function () {
            $(this).removeClass("li1_on")
        });
        $gnb.find(".li1").on("touchstart", function (e) {
            "use strict";
            var link = $(this);
            if (link.hasClass("li1_on")) {
                return true
            } else {
                link.addClass("li1_on");
                $gnb.find(".li1").not(this).removeClass("li1_on");
                e.preventDefault();
                return false
            }
        });
        $gnb.find(".menu_ext_mid div.ul2").each(function () {
            var outerWidth = 0;
            var outerHiehgt = 0;
            $(".li2", this).each(function () {
                $(this).width($(this).width());
                var width = $(this).width() + parseInt($(this).css("paddingLeft")) + parseInt($(this).css("paddingRight")) + 1;
                var height = $(this).height();
                outerWidth += width;
                outerHiehgt = outerHiehgt > height ? outerHiehgt : height
            });
            outerWidth--;
            $(this).width(outerWidth);
            $(".li2", this).height(outerHiehgt)
        });
        $(document).on("click", function (e) {
            if ($(e.target).parents("#gnb").length || $(e.target).is("#gnb")) {
                return
            }
            $("#gnb .li1.li1_on").removeClass("li1_on")
        });

    });


</script>
<body>
<!--네비게이션시작-->
<nav id="gnb" class="mpReset">
    <!--1번째 순서없는목록(ul)시작-->
    <div class="ul1">
        <ul class="ul1">
            <li class="li1">
                <a href="/" class="a1">
                    <span>항목1</span>
                </a>

                <!----2번째 목록시작[block 으로 활성화되는 부분]---->
                <div class="ul2">
                    <ul class="ul2">
                        <li class="li2 ">
                            <a href="/best" class="a2">
                                <span>리스트1</span>
                            </a>

                            <div class="ul3">
                                <ul class="ul3">
                                    <li class="li3">
                                        <a href="/happy" class="a3">
                                            <span>리스트1-1</span>
                                        </a>
                                    </li>
                                    <li class="li3">
                                        <a href="/happy" class="a3">
                                            <span>리스트1-2</span>
                                        </a>
                                    </li>
                                    <li class="li3">
                                        <a href="/happy" class="a3">
                                            <span>리스트1-3</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>


                        </li>

                        <li class="li2 ">
                            <a href="/index.php" class="a2">
                                <span>리스트2</span>
                            </a>

                            <!--3번째 ul 시작-->

                            <div class="ul3">
                                <ul class="ul3">
                                    <li class="li3">
                                        <a href="/happy" class="a3">
                                            <span>리스트2-1</span>
                                        </a>
                                    </li>
                                    <li class="li3">
                                        <a href="/happy" class="a3">
                                            <span>리스트2-2</span>
                                        </a>
                                    </li>
                                    <li class="li3">
                                        <a href="/happy" class="a3">
                                            <span>리스트2-3</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <!--3번째 ul 시작///-->


                        </li>

                        <li class="li2 ">
                            <a href="/best" class="a2">
                                <span>리스트3</span>
                            </a>
                        </li>
                        <li class="li2 ">
                            <a href="/best" class="a2">
                                <span>리스트4</span>
                            </a>
                        </li>
                    </ul>
                </div>
                <!----2번째 목록시작[block 으로 활성화되는 부분////]---->
            </li>

        </ul>
    </div>
    <hr>
</nav>

</body>
</html>